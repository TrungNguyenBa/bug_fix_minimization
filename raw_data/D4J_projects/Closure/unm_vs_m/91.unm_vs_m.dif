2c2
< index 91008e4..fa598d2 100644
---
> index 91008e49..b6993d90 100644
5c5,7
< @@ -112,15 +112,6 @@ final class CheckGlobalThis implements Callback {
---
> @@ -110,17 +110,6 @@ final class CheckGlobalThis implements Callback {
>              pType == Token.NUMBER)) {
>          return false;
7,8c9,10
<  
<        // Don't traverse functions that are getting lent to a prototype.
---
> -
> -      // Don't traverse functions that are getting lent to a prototype.
20a23,48
> diff --git a/test/com/google/javascript/jscomp/CheckGlobalThisTest.java b/test/com/google/javascript/jscomp/CheckGlobalThisTest.java
> index 8c8394c9..e0e98204 100644
> --- a/test/com/google/javascript/jscomp/CheckGlobalThisTest.java
> +++ b/test/com/google/javascript/jscomp/CheckGlobalThisTest.java
> @@ -220,21 +220,4 @@ public class CheckGlobalThisTest extends CompilerTestCase {
>      testSame("function Foo() {} " +
>          "Foo.prototype = {write: function() { this.foo = 3; }};");
>    }
> -
> -  public void testLendsAnnotation1() {
> -    testFailure("/** @constructor */ function F() {}" +
> -        "dojo.declare(F, {foo: function() { return this.foo; }});");
> -  }
> -
> -  public void testLendsAnnotation2() {
> -    testFailure("/** @constructor */ function F() {}" +
> -        "dojo.declare(F, /** @lends {F.bar} */ (" +
> -        "    {foo: function() { return this.foo; }}));");
> -  }
> -
> -  public void testLendsAnnotation3() {
> -    testSame("/** @constructor */ function F() {}" +
> -        "dojo.declare(F, /** @lends {F.prototype} */ (" +
> -        "    {foo: function() { return this.foo; }}));");
> -  }
>  }
